$.fn.flickrLatestPhotos=function(t){var e=$.extend({username:null,userUrl:null,userID:null,maxPhotos:10,startPage:0,size:"s"},t),s=this,o=function(t){for(var o="",r=0;r<t.length;r++){var a=t[r],i="http://farm"+a.farm+".staticflickr.com/"+a.server+"/"+a.id+"_"+a.secret+"_"+e.size+".jpg",n="https://www.flickr.com/photos/"+(e.userUrl||e.userID)+"/"+a.id;o+='<li><a href="'+n+'" target="_blank" title="'+a.title+'"><img src="'+i+'" alt="'+a.title+'"></a></li>'}$(s).html(o)},r=function(t){$.getJSON("https://api.flickr.com/services/rest/?method=flickr.photosets.getPhotos&api_key="+e.apiKey+"&photoset_id="+t.id+"&per_page="+e.maxPhotos+"&format=json&jsoncallback=?",function(t){if("ok"==t.stat){var e=t.photoset.photo;e.length&&o(e)}})},a=function(t){$.getJSON("https://api.flickr.com/services/rest/?method=flickr.photosets.getList&api_key="+e.apiKey+"&user_id="+e.userID+"&page="+t+"&per_page=1&format=json&jsoncallback=?",function(t){if("ok"==t.stat){var e=t.photosets,s=e.pages,o=parseInt(e.page);if(e.total>0){if(o>=s)return r(e.photoset[e.photoset.length-1]),void 0;a(s)}}})};e.username&&(e.userID?a(e.startPage):$.getJSON("https://api.flickr.com/services/rest/?method=flickr.people.findByUsername&api_key="+e.apiKey+"&username="+e.username+"&format=json&jsoncallback=?",function(t){"ok"==t.stat&&(e.userID=t.user.nsid,a(e.startPage))}))};